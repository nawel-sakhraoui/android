<div i18n-class class="text-left" >
<ngx-loading [show]="loading2" [config]="{ backdropBorderRadius: '3px' }" > </ngx-loading>  
<div  class='container  ' *ngIf ="display1" >

		
							
					       <div style='margin-bottom:15px; ' class=" row ">
					       		<div class="col-sm-9 col-12">  
									<span style='display:inline-block; font-size:xx-large; color:red ; '><b> {{model.fullname}}</b> </span>
							  		<span style='display:inline-block;'> <star-rating [starType]="'svg'" [rating]="model.ratingsum/model.ratingcount"   [readOnly]="true" [showHalfStars]="true" ></star-rating> </span>
							   		<span style='display:inline-block; font-size:x-small; 'i18n='@@uservotes'>{{model.ratingcount}}votes</span>
								
								<!-- span class="label label-purple arrowed-in-right">
									<i class="ace-icon fa fa-circle smaller-80 align-middle"></i>
									online </span-->
								</div>
							</div> 
			<div class="row">
		    <div  class=" col-sm-4  col-12 res">
				
			<div class="row">
		
				
							<div  *ngIf ="display2" class=" profile-picture ">
							
								  <img alt="" class=" resize"  id="avatar2" src='{{avatar}}' />
								<div  *ngIf="alertimg" class="alert alert-warning  strong "> Format image invalide! </div>
								
 							 <ng-template ngxPermissionsOnly="ADMINProfile">
 								<div class="selector">

									<label class ='img-selector btn btn-outline-info' [hidden]="!isValid" for="file"><i class="fa fa-file-image-o" ></i> </label>

									<input type='file' id="file" name="file" (change)="readUrl($event)" style="display: none;" >
                                                        

									<button  class ='img-selector btn btn-outline-info'  [hidden]="isValid" (click)="this.avatarsave()"><i class='fa fa-save'></i> <span *ngIf="loadingavatar "class= "fa fa-refresh fa-spin "></span></button>
									<button  class ='img-selector btn btn-outline-info' [hidden]="isValid" (click)="this.avatarremove()"><i class='fa fa-close'></i></button>
								</div> 
							</ng-template>
							</div>
				</div>
				
			     <div *ngIf ="display1" class='row'> 	
					 <a i18n='@@contacter' class="btn btn-sm btn-block btn-info  fa fa-envelope resize" (click)= 'sendMessage()'>
						 Contacter 
					 </a>	
				</div>
							
				

            </div>
            
            <div class='col-sm-8 col-12' >
                       
<!--
					   <div   [ngBusy]="{busy: busy1, message: 'Loading...', backdrop: false}"   ></div>
	-->		
	         <ngx-loading [show]="loading" [config]="{ backdropBorderRadius: '3px' }" ></ngx-loading>
	          
			<div *ngIf='display1' style ='margin-left:15px; margin-right:15px ; ' >
				

							<div style ='margin-bottom:15px; ' class="row">
									<div i18n="@@telephone" class="col-sm-4 col-4"> <b>Téléphone</b> 
									</div>
									
									
									<div class="col-sm-6 col-6" >
									<input dir='ltr' readonly style=' margin-right:5px;' [textMask]="{mask: phonemask}"   [(ngModel)]="model.phone"  />
									</div> 
									<!-- ng-template ngxPermissionsOnly="ADMINProfile">
									<div class="col-sm-6 col-6" >
									<input readonly *ngIf='!editPhone' style=' margin-right:5px;' [textMask]="{mask: phonemask}"   [(ngModel)]="model.phone"  />
									<input  *ngIf='editPhone' style=' margin-right:5px;' [textMask]="{mask: phonemask}"  type="tel" placeholder="model.phone" name="phone" [(ngModel)]="model.phone"  #phone="ngModel" />
									
									</div>
									
									<div class="col-sm-2 col-2" style='display:inline-block;' >
									<a class="btn  fa fa-pencil"  *ngIf='!editPhone' style='display:inline-block;' (click)='editingPhone()'> </a>
						
								    <a class="btn fa fa-check"  *ngIf='editPhone' style='display:inline-block ;margin-right:5px; ' (click)='savePhone()'></a>
								    <a class="btn fa fa-remove" *ngIf='editPhone' style='display:inline-block; ' (click)='removePhone()'></a>
								    
								    </div>
								    </ng-template-->
							</div>

							<div style ='margin-bottom:15px; ' class="row">
									<div i18n="@@localisation" class="col-sm-4 col-4"><b>Localisation <i class="fa fa-map-marker light-orange bigger-110"></i></b> 
									</div>
					
									
									
									<div class="col-sm-6 col-6" >
									<span i18n="@@location"  *ngIf='!editLocation' style=' margin-right:5px;'>{{model.location}}</span>
   									<ngx-select-dropdown  *ngIf='editLocation'  (change)="getLocation($event)" [multiple]="false" i18n-value [(value)]="location" [config]="locationconfig" i18n-options [options]="locations"></ngx-select-dropdown>
									
									</div>
								 
								 <ng-template ngxPermissionsOnly="ADMINProfile">
									<div class="col-sm-2 col-2" style='display:inline-block;' >
									<a class="btn fa fa-pencil"  *ngIf='!editLocation' style='display:inline-block;' (click)='editingLocation()'> </a>
						
								    <a class="btn fa fa-check"  *ngIf='editLocation' style='display:inline-block ;margin-right:5px; ' (click)='saveLocation()'></a>
								    <a class="btn fa fa-remove" *ngIf='editLocation' style='display:inline-block; ' (click)='removeLocation()'></a>
								    </div>
								    </ng-template>
								
							</div>

					

							
							<div style ='margin-bottom:15px; ' *ngIf="stores.length!=0"  class="row">
									<div i18n="@@magasins" class="col-sm-4  col-4"><b> Magasins </b></div>

									<div class="col-sm-6 col-6 list-group">
										
										
										<a  class="list-group-item bg-light text-warning "*ngFor=" let s of stores "routerLink='../../../../stores/{{s._id}}/store' > {{s._id}} </a>
										
										
										 
						
									</div>
									
								
							</div>					
							<div style ='margin-bottom:15px; ' *ngIf="true"  class="row"> 	
									<div i18n='@@creation' class="col-sm-4 col-4"><b> Création</b>
									 </div>

									<div class="col-sm-8 col-8">
										<span dir="ltr">{{model.joined}}</span>
									</div>
							</div>
							<ng-template ngxPermissionsOnly="ADMINProfile">
							<div style ='margin-bottom:15px; ' *ngIf="true"  class="row"> 	
									<div i18n='@@addresses' class="col-sm-4 col-4"><b>Addresses</b>
									 </div>

									<div class="col-sm-8 col-8">
										<a  scrollTo scrollableElementSelector="#collapseExample"   class ="  list-goup-item-info  " data-toggle="collapse" href="#collapseExample"  aria-expanded="false" aria-controls="collapse"   ><i i18n="@@afficher">Afficher</i> <span class="fa fa-angle-down"></span></a> 
									
										 
									</div>
							</div>
							
						</ng-template>
				
						
					</div>
							
							
					</div>

				</div>	


 
 <div class =" col-md-10 col-12  col-md-offset-3  collapse" id ="collapseExample">
 	<app-adress></app-adress>
</div> 
 
 <!-- div class ="row collapse" id ="collapseExample">
 <app-adress></app-adress>
 </div-->
 <!-- nav class="nav nav-tabs">

         <a class="nav-item nav-link active"   href="#p1" data-toggle="tab">Details</a>
		<a class="nav-item nav-link"   href="#p2" data-toggle="tab">Feedback</a>	
</nav>
 <div class="tab-content">
  <div class="tab-pane active" id="p1">
    <div class="card-block" style ="padding :50px;">
     
  	</div>
  </div>
  
  <div class="tab-pane" id="p2">
         <div class ="card-block list-item"  *ngFor="let m of model.rating " >
        
			<span class
			="form-inline my-2 my-lg-0" > <span class=" profile-picture "> <img class=" resize0" alt=" Avatar" [src]='avatarlist[m.userid]' 
                      alt="User Avatar" /></span>
               
                             <strong class="primary-font">{{fullnamelist[m.userid]}}</strong>      
                             <star-rating id= "m.userid" [starType]="'svg'"  [rating]="m.value"   [readOnly]="true"  [showHalfStars]="true"  ></star-rating>
               				       

               </span>
                   <p class="card-text" style ='margin-left :100px ; padding-bottom:50px;  border-bottom:1px solid #C0C0C0 ;  '> {{m.feedback}}</p>   
      	  
 	           
 	          
 	    </div >
 	    <div *ngIf ='model.rating.length ==0'>
 	       	<p class="card-text " style ="padding:50px ; ">	No rating </p>
 	     </div>
  </div>
</div>


 
 	 
 </div-->
    
			<!-- div class="col-sm-12">
						<div class="col-xs-12 col-sm-6">
							<div class="widget-box transparent">
								<div class="widget-header widget-header-small">
									<h4 class="widget-title smaller">
										<i class="ace-icon fa fa-check-square-o bigger-110"></i>
										Little About Me
									</h4>
								</div>

								<div class="widget-body">
									<div class="widget-main">
										<p>
											My job is mostly lorem ipsuming and dolor sit ameting as long as consectetur adipiscing elit.
										</p>
										<p>
											Sometimes quisque commodo massa gets in the way and sed ipsum porttitor facilisis.
										</p>
										<p>
											The best thing about my job is that vestibulum id ligula porta felis euismod and nullam quis risus eget urna mollis ornare.
										</p>
										<p>
											Thanks for visiting my profile.
										</p>
									</div>
								</div>
							</div>
						</div>
				
				
	         </div>
	        
	         </div -->
	         </div>
</div>